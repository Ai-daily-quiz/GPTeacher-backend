option_settings:
  aws:elasticbeanstalk:container:python:
    WSGIPath: application:application

packages:
  yum:
    gcc: []
    gcc-c++: []
    make: []

commands:
  01_enable_repos:
    command: |
      sudo dnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
      sudo dnf config-manager --set-enabled crb
    ignoreErrors: true
  
  02_install_tesseract:
    command: |
      sudo dnf install -y tesseract tesseract-langpack-kor
    ignoreErrors: true
  
  03_install_poppler:
    command: |
      sudo dnf install -y poppler-utils
    ignoreErrors: true

container_commands:
  01_verify_installation:
    command: |
      echo "=== Checking Tesseract ===" 
      tesseract --version || echo "Tesseract not found"
      echo "=== Checking Poppler ===" 
      pdftoppm -v 2>&1 || echo "Poppler not found"